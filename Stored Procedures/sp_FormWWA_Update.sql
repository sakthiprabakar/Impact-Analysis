
--/************************************************************
--Procedure	: sp_FormWWA_Update
--Database	: PLT_AI*
--Created		: 5-10-2004 - Jonathan Broome
--Description	: Updates any FormWWA records for the
--			  matching form_id + revision_id.
--************************************************************/
--Create Procedure sp_FormWWA_Update (
--@form_id						int,
--@revision_id					int,
--@group_id						int				= NULL,
--@customer_id_from_form			int				= NULL,
--@customer_id					int				= NULL,
--@form_version					char(10)		= NULL,
--@app_id							varchar(20)		= NULL,
--@status							char(1),
--@locked							char(1),
--@signed_pin						char(10)		= NULL,
--@signing_name					varchar(40)		= NULL,
--@signing_company				varchar(40)		= NULL,
--@signing_title					varchar(40)		= NULL,
--@signing_date					datetime		= NULL,
--@username						char(10)		= NULL,
--@generator_name					varchar(40)		= NULL,
--@waste_common_name				varchar(50)		= NULL,
--@info_basis				  		varchar(10)		= NULL,
--@bis_phthalate_flag		  		char(1)			= NULL,
--@bis_phthalate_actual			float			= NULL,
--@carbazole_flag			  		char(1)			= NULL,
--@carbazole_actual				float			= NULL,
--@o_cresol_flag					char(1)			= NULL,
--@o_cresol_actual				float			= NULL,
--@p_cresol_flag					char(1)			= NULL,
--@p_cresol_actual				float			= NULL,
--@n_decane_flag					char(1)			= NULL,
--@n_decane_actual				float			= NULL,
--@fluoranthene_flag				char(1)			= NULL,
--@fluoranthene_actual			float			= NULL,
--@n_octadecane_flag				char(1)			= NULL,
--@n_octadecane_actual			float			= NULL,
--@trichlorophenol_246_flag		char(1)			= NULL,
--@trichlorophenol_246_actual  	float			= NULL,
--@phosphorus_flag				char(1)			= NULL,
--@phosphorus_actual				float			= NULL,
--@total_chlor_phen_flag			char(1)			= NULL,
--@total_chlor_phen_actual		float			= NULL,
--@total_organic_actual			float			= NULL,
--@pcb_flag						char(1)			= NULL,
--@pcb_actual				  		float			= NULL,
--@acidity_flag					char(1)			= NULL,
--@acidity_actual			  		float			= NULL,
--@fog_flag						char(1)			= NULL,
--@fog_actual				  		float			= NULL,
--@tss_flag						char(1)			= NULL,
--@tss_actual				  		float  			= NULL,
--@bod_flag						char(1)			= NULL,
--@bod_actual				  		float  			= NULL,
--@antimony_flag					char(1)			= NULL,
--@antimony_actual				float  			= NULL,
--@arsenic_flag					char(1)			= NULL,
--@arsenic_actual			  		float  			= NULL,
--@cadmium_flag					char(1)			= NULL,
--@cadmium_actual			  		float  			= NULL,
--@chromium_flag					char(1)			= NULL,
--@chromium_actual				float  			= NULL,
--@cobalt_flag					char(1)			= NULL,
--@cobalt_actual					float  			= NULL,
--@copper_flag					char(1)			= NULL,
--@copper_actual					float  			= NULL,
--@cyanide_flag					char(1)			= NULL,
--@cyanide_actual			  		float  			= NULL,
--@iron_flag						char(1)			= NULL,
--@iron_actual					float  			= NULL,
--@lead_flag						char(1)			= NULL,
--@lead_actual					float  			= NULL,
--@mercury_flag					char(1)			= NULL,
--@mercury_actual			  		float  			= NULL,
--@nickel_flag					char(1)			= NULL,
--@nickel_actual					float  			= NULL,
--@silver_flag					char(1)			= NULL,
--@silver_actual					float  			= NULL,
--@tin_flag						char(1)			= NULL,
--@tin_actual				  		float  			= NULL,
--@titanium_flag					char(1)			= NULL,
--@titanium_actual				float  			= NULL,
--@vanadium_flag					char(1)			= NULL,
--@vanadium_actual				float  			= NULL,
--@zinc_flag						char(1)			= NULL,
--@zinc_actual					float  			= NULL,
--@method_8240					char(1)			= NULL,
--@method_8270					char(1)			= NULL,
--@method_8080					char(1)			= NULL,
--@method_8150					char(1)			= NULL,
--@used_oil						char(1)			= NULL,
--@oil_mixed						char(1)			= NULL,
--@halogen_gt_1000				char(1)			= NULL,
--@halogen_source			  		char(10)		= NULL,
--@halogen_source_desc1			varchar(100)	= NULL,
--@other_desc_1					varchar(100)	= NULL
--)
--as

--update FormWWA set
--status							= @status,
--locked							= @locked,
--signed_pin						= @signed_pin,
--signing_name					= @signing_name,
--signing_company				    = @signing_company,
--signing_title					= @signing_title,
--signing_date					= @signing_date,
--date_modified					= GETDATE(),
--modified_by					    = @username,
--generator_name					= @generator_name,
--waste_common_name				= @waste_common_name,
--info_basis				  		= @info_basis,
--bis_phthalate_flag		  		= @bis_phthalate_flag,
--bis_phthalate_actual			= @bis_phthalate_actual,
--carbazole_flag			  		= @carbazole_flag,
--carbazole_actual				= @carbazole_actual,
--o_cresol_flag					= @o_cresol_flag,
--o_cresol_actual				    = @o_cresol_actual,
--p_cresol_flag					= @p_cresol_flag,
--p_cresol_actual				    = @p_cresol_actual,
--n_decane_flag					= @n_decane_flag,
--n_decane_actual				    = @n_decane_actual,
--fluoranthene_flag				= @fluoranthene_flag,
--fluoranthene_actual			    = @fluoranthene_actual,
--n_octadecane_flag				= @n_octadecane_flag,
--n_octadecane_actual			    = @n_octadecane_actual,
--trichlorophenol_246_flag		= @trichlorophenol_246_flag,
--trichlorophenol_246_actual  	= @trichlorophenol_246_actual,
--phosphorus_flag				    = @phosphorus_flag,
--phosphorus_actual				= @phosphorus_actual,
--total_chlor_phen_flag			= @total_chlor_phen_flag,
--total_chlor_phen_actual		    = @total_chlor_phen_actual,
--total_organic_actual			= @total_organic_actual,
--pcb_flag						= @pcb_flag,
--pcb_actual				  		= @pcb_actual,
--acidity_flag					= @acidity_flag,
--acidity_actual			  		= @acidity_actual,
--fog_flag						= @fog_flag,
--fog_actual				  		= @fog_actual,
--tss_flag						= @tss_flag,
--tss_actual				  		= @tss_actual,
--bod_flag						= @bod_flag,
--bod_actual				  		= @bod_actual,
--antimony_flag					= @antimony_flag,
--antimony_actual				    = @antimony_actual,
--arsenic_flag					= @arsenic_flag,
--arsenic_actual			  		= @arsenic_actual,
--cadmium_flag					= @cadmium_flag,
--cadmium_actual			  		= @cadmium_actual,
--chromium_flag					= @chromium_flag,
--chromium_actual				    = @chromium_actual,
--cobalt_flag					    = @cobalt_flag,
--cobalt_actual					= @cobalt_actual,
--copper_flag					    = @copper_flag,
--copper_actual					= @copper_actual,
--cyanide_flag					= @cyanide_flag,
--cyanide_actual			  		= @cyanide_actual,
--iron_flag						= @iron_flag,
--iron_actual					    = @iron_actual,
--lead_flag						= @lead_flag,
--lead_actual					    = @lead_actual,
--mercury_flag					= @mercury_flag,
--mercury_actual			  		= @mercury_actual,
--nickel_flag					    = @nickel_flag,
--nickel_actual					= @nickel_actual,
--silver_flag					    = @silver_flag,
--silver_actual					= @silver_actual,
--tin_flag						= @tin_flag,
--tin_actual				  		= @tin_actual,
--titanium_flag					= @titanium_flag,
--titanium_actual				    = @titanium_actual,
--vanadium_flag					= @vanadium_flag,
--vanadium_actual				    = @vanadium_actual,
--zinc_flag						= @zinc_flag,
--zinc_actual					    = @zinc_actual,
--method_8240					    = @method_8240,
--method_8270					    = @method_8270,
--method_8080					    = @method_8080,
--method_8150					    = @method_8150,
--used_oil						= @used_oil,
--oil_mixed						= @oil_mixed,
--halogen_gt_1000				    = @halogen_gt_1000,
--halogen_source			  		= @halogen_source,
--halogen_source_desc1			= @halogen_source_desc1,
--other_desc_1					= @other_desc_1

--where
--	(form_id = @form_id and revision_id = @revision_id)
--	or (group_id = @group_id and @group_id is not null)

--set nocount off


--GO
--GRANT EXECUTE
--    ON OBJECT::[dbo].[sp_FormWWA_Update] TO [EQWEB]
--    AS [dbo];
--GO
--GRANT EXECUTE
--    ON OBJECT::[dbo].[sp_FormWWA_Update] TO [COR_USER]
--    AS [dbo];



--GO
--GRANT EXECUTE
--    ON OBJECT::[dbo].[sp_FormWWA_Update] TO [EQAI]
--    AS [dbo];

